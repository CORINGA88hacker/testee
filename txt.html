<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Site com abas dinâmicas do Firebase</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<style>
  .nav-tabs {
    justify-content: center;
  }
  .tab-title {
    text-align: center;
    margin-top: 5px;
    font-weight: bold;
    color: #555;
  }
</style>
</head>
<body>

<div class="container mt-4">

  <!-- Abas -->
  <ul class="nav nav-tabs" id="tabs" role="tablist">
    <!-- abas serão criadas pelo JS -->
  </ul>

  <!-- Conteúdo das abas -->
  <div class="tab-content mt-3" id="tabContent">
    <!-- conteúdo será criado pelo JS -->
  </div>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<script>
  // Sua configuração do Firebase
  const firebaseConfig = {
    apiKey: "SUA_API_KEY",
    authDomain: "SEU_AUTH_DOMAIN",
    databaseURL: "SUA_DATABASE_URL",
    projectId: "SEU_PROJECT_ID",
    storageBucket: "SEU_STORAGE_BUCKET",
    messagingSenderId: "SEU_MESSAGING_SENDER_ID",
    appId: "SEU_APP_ID"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const tabsEl = document.getElementById('tabs');
  const tabContentEl = document.getElementById('tabContent');

  // Função pra criar abas e conteúdo dinamicamente
  function createTabs(data) {
    tabsEl.innerHTML = '';
    tabContentEl.innerHTML = '';

    let first = true;
    let index = 1;

    for (const key in data) {
      const item = data[key];
      const id = `tab${index}`;

      // Criar botão da aba
      const li = document.createElement('li');
      li.classList.add('nav-item');
      li.setAttribute('role', 'presentation');

      const btn = document.createElement('button');
      btn.classList.add('nav-link');
      if (first) btn.classList.add('active');
      btn.id = `${id}-tab`;
      btn.setAttribute('data-bs-toggle', 'tab');
      btn.setAttribute('data-bs-target', `#${id}`);
      btn.type = 'button';
      btn.setAttribute('role', 'tab');
      btn.setAttribute('aria-controls', id);
      btn.setAttribute('aria-selected', first ? 'true' : 'false');
      btn.textContent = `Aba ${index}`;

      li.appendChild(btn);
      tabsEl.appendChild(li);

      // Criar título embaixo da aba
      const titleDiv = document.createElement('div');
      titleDiv.classList.add('tab-title');
      titleDiv.textContent = item.title || 'Sem título';

      li.appendChild(titleDiv);

      // Criar conteúdo da aba
      const contentDiv = document.createElement('div');
      contentDiv.classList.add('tab-pane', 'fade');
      if (first) contentDiv.classList.add('show', 'active');
      contentDiv.id = id;
      contentDiv.setAttribute('role', 'tabpanel');
      contentDiv.setAttribute('aria-labelledby', `${id}-tab`);
      contentDiv.innerHTML = `<p>${item.text || 'Sem conteúdo'}</p>`;

      tabContentEl.appendChild(contentDiv);

      first = false;
      index++;
    }
  }

  // Ler dados do Firebase
  db.ref('abas').on('value', snapshot => {
    const data = snapshot.val();
    if(data) {
      createTabs(data);
    } else {
      tabsEl.innerHTML = '<li>Nenhuma aba encontrada</li>';
      tabContentEl.innerHTML = '';
    }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
